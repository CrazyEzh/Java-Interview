---
up: [[Исключения]]
---
# try-catch-finaly
---
### Расскажите про механизм обработки исключений в java (Try-catch-finally)
* Try - блок в котором может появиться исключение;  
* Catch - блок в котором мы указываем исключение и логику его обработки;  
* Finally - блок который обязательно отработает

### Может ли один блок catch отлавливать сразу несколько исключений?
Да
```java
try {
	foo(10);
} catch (IllegalArgumentException | NullPointerException e) {
	System.out.println(e.getMessage());
}
```

### В каком порядке следует обрабатывать исключения в catch блоках?
От наследника к родителя

### Может ли исключение быть снова брошено после перехвата?
Да, с помощью throw

### Можем ли мы написать несколько блоков catch в одном блоке try?
Да, но стоит соблюдать порядок блоков catch. Если написать первым блоком `catch(Exceprion e)`  то блоки catch идущие после, отработают только если исключение не будет наследником класса Exception. Необходимо придерживатся порядка блоков catch от наследников к родителю.

### Можно ли так написать try { throw new Object(); }?
Нет, выбрасывать можно только объекты класса Thorawble и его наследников

### Для чего в основном используется блок finally?
Для тех действий которые необходимо выполнить вне зависимости от того было ли выброшено исключение или нет. Например закрытие потоков и освобождения ресурсов.

### Возможно ли использование блока try-finally (без catch)?      
try может быть в паре с finally, без catch. Работает это точно так же - после выхода из блока try выполняется блок finally

### Всегда ли выполняется блок finally? Существуют ли ситуации, когда блок finally не будет выполнен?      
Да, кроме случаев завершения работы программы или JVM:  
  
* Finally может не выполниться в случае если в блоке try вызывает System.exit(0),  
* `Runtime.getRuntime().exit(0)`, `Runtime.getRuntime().halt(0)` и если во время исполнения блока try виртуальная машина выполнила недопустимую операцию и будет закрыта.  
* В блоке try{} бесконечный цикл.

### Что произойдет если исключение будет выброшено из блока catch после чего другое исключение будет выброшено из блока finally?
finally-секция может «перебить» throw/return при помощи другого throw/return

### Что если в конструкции try finally вылетело исключение сначала в try а потом в finally? Какое исключение вылетит? Что будет с другим?
Точно так же возврат в блоке finally приведет к тому, что исключение, выброшенное из блока try, будет отброшено, а выброс в блоке finally приведет к отклонению обычного возвращаемого значения из блока try.

### Какой return вернется? Из try или finaly?
из finally Если в блоке finally есть оператор возврата, то операторы возврата из блоков try / catch будут переопределены.