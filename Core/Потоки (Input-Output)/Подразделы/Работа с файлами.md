---
up: [[Потоки (Input-Output)]]
---
# Работа с файлами
---
### Для чего класс File? Что и как можно создать? как можно удалять
В отличие от большинства классов ввода/вывода, класс File работает не с потоками, а непосредственно с файлами. Данный класс позволяет получить информацию о файле: права доступа, время и дата создания, путь к каталогу. А также осуществлять навигацию по иерархиям подкаталогов.
Класс java.io.File может представлять имя определённого файла, а также имена группы файлов, находящихся в каталоге. Если класс представляет каталог, то его метод list() возвращает массив строк с именами всех файлов.

Для создания объектов класса File можно использовать один из следующих конструкторов.
```java
File(File dir, String name) //указывается объекта класса File (каталог) и имя файла
File(String path) //указывается путь к файлу без указания имени файла
File(String dirPath, Sring name) //указывается путь к файлу и имя файла
File(URI uri) //указывается объекта URI, описывающий файл
```
Метод `delete()` - удаляет файл. Также можно удалить пустой каталог

### Методы File
```java
getAbsolutePath() //абсолютный путь файла, начиная с корня системы. В Android корневым элементом является символ слеша (/)
canRead() //доступно для чтения
canWrite() //доступно для записи
exists() //файл существует или нет
getName() //возвращает имя файла
getParent() //возвращает имя родительского каталога
getPath() //путь
lastModified() //дата последнего изменения
isFile() //объект является файлом, а не каталогом
isDirectory //объект является каталогом
isAbsolute() //возвращает true, если файл имеет абсолютный путь
renameTo(File newPath) //переименовывает файл. В параметре указывается имя нового имени файла. Если переименование прошло неудачно, то возвращается false
delete() //удаляет файл. Также можно удалить пустой каталог
```

### В чём отличие File от Path
Отличается доступ к содержимому директории в Path это делается через ресур открытый на чтение `DirectoryStream<Path>`
в Path был добавлен общий механизм обхода директорий, с помощью которого можно организовать как удаление так и копирование и др.(Files.walkFileTree)
Path более гибко устроен внутри, в частности он позволяет программистом реализовывать различные виртуальные файловые системы. Например в стандартной библиотеке есть реализация файловой системы поверх zip архива - благодаря этому мы открываем Zip и работаем с его содержимым как с обычными файлами при помощи тех же классов, это абсолютно прозрачно для нашего кода , который один раз написан и может быть использован для разных файловых систем без изменений. Ничто не мешает нам реализовать файловую систему работающую внутри другого типа архива или вообще на удалённом компьютере.

### Абсолютный и относительный путь
* **Относительные пути** - это те, которые начинаются без спецификатора диска. Поэтому в Linux они не начинаются с /, в Windows они не начинаются с C:\ и т.д. Они всегда начинаются с вашего рабочего каталога.
* **Абсолютные пути** - это те, которые начинаются с спецификатора диска (или машины для сетевых путей). Они всегда идут от начала этого диска.

### Как создать файл на компьютере с помощью java
* методом createNewFile() класса File. 
* Path testFile1=Files.createFile(Paths.get("C:\\Users\\Username\\Desktop\\testFile111.txt")); статическим методом класса Files  createFile с параметром Path.
* создать fileoutput поток, он создаст файл.

### Как удалить директорию с файлами. Что если в ней есть вложенные директории
Сначала надо удалить файлы из папки с помощью метода `java.io.File delete()` и только потом удалять папку. Если вы пытаетесь удалить папку, то этот метод проверяет указанную папку на пустоту. Если папка пуста, то она удаляется, если в папке что-то есть, то метод `delete()` просто возвращает false, то есть папка не удаляется.

### Разница в IO при работе с файлом и директорией
Директорию нельзя удалить, если внутри что то есть