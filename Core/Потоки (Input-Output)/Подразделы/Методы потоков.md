---
up: [[Потоки (Input-Output)]]
---
# Методы потоков
---
### Гарантируется ли запись данных в файл при вызове flush()
`flush()` очищает этот выходной поток и заставляет записывать все буферизованные выходные байты. Общий контракт сброса заключается в том, что его вызов указывает на то, что, если какие-либо ранее записанные байты были буферизованы реализацией выходного потока, такие байты должны быть немедленно записаны в их предполагаемое место назначения. Если предполагаемое место назначения этого потока является абстракцией, предоставляемой базовой операционной системой, например файлом, то очистка потока гарантирует только то, что байты, ранее записанные в поток, передаются операционной системе для записи; это не гарантирует, что они действительно записаны на физическое устройство, например, на диск.

### Можно ли использовать flush() для небуферизированного потока и что будет
Да, можно, если поток не буферизированный всеровно может быть буфер у операционной системы, на которой мы пишем. И этим методом мы этот буфер освободим и скажем записать. 

### Как работает сам close()? Что и зачем нужно закрывать?
Метод `close()` так же вызывает метод `flush()`. Нужно закрывать потоки, чтобы освободить ресурсы.

### Что делает метод read. Почему он возвращает int а не byte. Почему он не может возвращать byte
Метод читает следующий байт из входящего потока. Когда метод ничего не может считать (конец потока), возвращается -1.
Поэтому нужен такой тип, который может вместить 1 байт, плюс одно служебное значение -1 (обозначающее конец потока)
Диапазон byte в Java лежит от -128 до 127, а возвращаемое значение метода read() лежит в диапазоне от 0 до 255.

### Что вернет метод read(), если он считывает файл и ему встречается байт равный -1
Тип данных int в Java является дополненнным до двух целым числом и использует 32 бита вместо 8.
т. е. метод read() возвращает не само значение byte, а его представление в 32х битном виде.  Соответственно вернёт 255

### Что возвращает перегруженный read. Какое максимальное значение вернет
Возвращает int - количество прочитанных из потока байт. Максимальное значение int 2 147 483 647
Или размер буфера (считанного массива byte) 

### Что делает метод available()
int available() - возвращает количество байтов ввода, доступные в данный момент для чтения
Возвращает количество байт которые могут быть прочитаны или пропущены.